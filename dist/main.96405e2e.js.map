{"version":3,"sources":["main.js"],"names":["EventCenter","on","type","handler","$","document","fire","data","trigger","Footer","init","$footer","$ul","find","$box","$leftBtn","$rightBtn","isToEnd","isToStart","isAnimate","bind","render","_this","console","log","itemWidth","outerWidth","rowCount","Math","floor","width","animate","left","parseFloat","css","addClass","siblings","removeClass","channelId","attr","channelName","getJSON","done","ret","renderFooter","channels","fail","html","forEach","channel","channel_id","name","cover_small","setStyle","count","length","Fm","$container","audio","Audio","autoplay","e","channelObj","loadMusic","$btn","hasClass","play","pause","addEventListener","clearInterval","statusClock","setInterval","updateStatus","callback","song","setMusic","loadLyric","sid","lyric","lyricObj","split","line","times","match","str","replace","Array","isArray","time","src","url","picture","text","title","artist","min","currentTime","second","duration","boomText","fn","arr","map","word","join","index","$boomTexts","clock","eq"],"mappings":"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","file":"main.96405e2e.js","sourceRoot":"..\\src","sourcesContent":["var EventCenter = {\r\n    on: function (type, handler) {\r\n        $(document).on(type, handler);\r\n    },\r\n    fire: function (type, data) {\r\n        $(document).trigger(type, data);\r\n    }\r\n};\r\n\r\n// EventCenter.on('hello', function(e, data){\r\n//   console.log(data);\r\n// })\r\n//\r\n// EventCenter.fire('hello', '你好')\r\n\r\n\r\nvar Footer = {\r\n    init: function () {\r\n        this.$footer = $('footer');\r\n        this.$ul = this.$footer.find('ul');\r\n        this.$box = this.$footer.find('.box');\r\n        this.$leftBtn = this.$footer.find('.icon-left');\r\n        this.$rightBtn = this.$footer.find('.icon-right');\r\n        //isToEnd表示向右滚动是否到头\r\n        this.isToEnd = false;\r\n        //isToStart表示向左滚动是否到头\r\n        this.isToStart = true;\r\n        //isAnimate表示当前ul是否在运动\r\n        this.isAnimate = false;\r\n\r\n        this.bind();\r\n        this.render();\r\n    },\r\n\r\n    bind: function () {\r\n        var _this = this;\r\n\r\n        //点击底部轮播图右按钮时做的事情：\r\n        this.$rightBtn.on('click', function () {\r\n            console.log('右按钮被点击啦');\r\n            if (_this.isAnimate) return;\r\n            //outerWidth表示获取元素集合中第一个元素的当前计算宽度值,包括padding，border和选择性的margin。\r\n            //true表示包括外边距\r\n            var itemWidth = _this.$box.find('li').outerWidth(true);\r\n            // Math.floor() 返回小于或等于一个给定数字的最大整数。\r\n            var rowCount = Math.floor(_this.$box.width() / itemWidth);\r\n            //如果向右滚动没有到头就继续做下边的事\r\n            if (!_this.isToEnd) {\r\n                _this.isAnimate = true;\r\n                _this.$ul.animate({\r\n                    left: '-=' + rowCount * itemWidth\r\n                }, 400, function () {\r\n                    _this.isAnimate = false;\r\n                    _this.isToStart = false;\r\n                    //判断是否向右拉到头了\r\n                    if (parseFloat(_this.$box.width()) - parseFloat(_this.$ul.css('left')) >= parseFloat(_this.$ul.css('width'))) {\r\n                        _this.isToEnd = true;\r\n                    }\r\n                });\r\n            }\r\n        });\r\n\r\n        //点击底部轮播图左按钮时做的事情：\r\n        this.$leftBtn.on('click', function () {\r\n            console.log('左按钮被点击啦');\r\n            if (_this.isAnimate) return;\r\n            var itemWidth = _this.$box.find('li').outerWidth(true);\r\n            var rowCount = Math.floor(_this.$box.width() / itemWidth);\r\n            //如果向左滚动没有到头\r\n            if (!_this.isToStart) {\r\n                _this.isAnimate = true;\r\n                _this.$ul.animate({\r\n                    left: '+=' + rowCount * itemWidth\r\n                }, 400, function () {\r\n                    _this.isAnimate = false;\r\n                    _this.isToEnd = false;\r\n                    //如果ul的left>=0，说明向左滚动到头了\r\n                    if (parseFloat(_this.$ul.css('left')) >= 0) {\r\n                        _this.isToStart = true;\r\n                    }\r\n                });\r\n            }\r\n        });\r\n\r\n        //点击底部轮播图每一项时做的事情\r\n        //这里的事件监听要用on代理监听，因为li是发送请求后获取的数据\r\n        //直接用click监听的话会监听不到，详情见谷歌\r\n        this.$footer.on('click', 'li', function () {\r\n            console.log('li被点击啦');\r\n            //这里的this指的是被点击的li元素\r\n            $(this).addClass('active')\r\n                .siblings().removeClass('active');\r\n            EventCenter.fire('select-albumn', {\r\n                //我想问这里的this指的是谁？\r\n                //是EventCenter这个对象么？\r\n                //还是当前点击的li元素？\r\n                channelId: $(this).attr('data-channel-id'),\r\n                channelName: $(this).attr('data-channel-name')\r\n            });\r\n        });\r\n    },\r\n\r\n    render() {\r\n        //this重新赋值因为下边的JSON请求数据后回调函数里的this会发生改变\r\n        var _this = this;\r\n        $.getJSON('//jirenguapi.applinzi.com/fm/getChannels.php')\r\n            .done(function (ret) {\r\n                console.log(ret);\r\n                _this.renderFooter(ret.channels);\r\n            }).fail(function () {\r\n            console.log('error');\r\n        });\r\n    },\r\n\r\n    renderFooter: function (channels) {\r\n        console.log(channels);\r\n        var html = '';\r\n        channels.forEach(function (channel) {\r\n            html += '<li data-channel-id=' + channel.channel_id + ' data-channel-name=' + channel.name + '>'\r\n                + '<div class=\"cover\" style=\"background-image:url(' + channel.cover_small + ')\"></div>'\r\n                + '<h3>' + channel.name + '</h3>'\r\n                + '</li>';\r\n        });\r\n        //把上边的html变量放到ul元素的html里，替换原有的html内容\r\n        //这是jQuery的API\r\n        this.$ul.html(html);\r\n        //把新的html内容渲染到ul里后如果渲染的得到的li太多，ul原有的宽度不够，就需要重新设置ul的宽度\r\n        //因此调用setStyle方法\r\n        this.setStyle();\r\n    },\r\n\r\n    setStyle: function () {\r\n        //获取现在footer里li的个数\r\n        var count = this.$footer.find('li').length;\r\n        //获取li的外部宽度\r\n        //outerWidth表示获取元素集合中第一个元素的当前计算宽度值,包括padding，border和选择性的margin。\r\n        //true表示包括外边距\r\n        var width = this.$footer.find('li').outerWidth(true);\r\n        this.$ul.css({\r\n            width: count * width + 'px'\r\n        });\r\n    }\r\n};\r\n\r\n\r\nvar Fm = {\r\n    init: function () {\r\n        this.$container = $('#page-music');\r\n        this.audio = new Audio();\r\n        this.audio.autoplay = true;\r\n\r\n        this.bind();\r\n    },\r\n\r\n    bind: function () {\r\n        var _this = this;\r\n        //EventCenter第一行声明的对象，有on和fire两个方法\r\n        //on接受两个参数：type和handler\r\n        EventCenter.on('select-albumn', function (e, channelObj) {\r\n            _this.channelId = channelObj.channelId;\r\n            _this.channelName = channelObj.channelName;\r\n            //调用FM对象的loadMusic方法\r\n            _this.loadMusic();\r\n        });\r\n\r\n        //点击播放暂停按钮时\r\n        this.$container.find('.btn-play').on('click', function () {\r\n            //这里的this指的是监听的.btn-play元素\r\n            var $btn = $(this);\r\n            //如果有icon-play类，即在暂停状态\r\n            //但我觉得如果有icon-play类，应该是处于播放状态\r\n            //但没办法，css是这样封装的，我用的别人的css\r\n            if ($btn.hasClass('icon-play')) {\r\n                $btn.removeClass('icon-play').addClass('icon-pause');\r\n                _this.audio.play();\r\n            } else {\r\n                $btn.removeClass('icon-pause').addClass('icon-play');\r\n                _this.audio.pause();\r\n            }\r\n        });\r\n\r\n        //点击下一曲按钮时\r\n        this.$container.find('.btn-next').on('click', function () {\r\n            _this.loadMusic();\r\n        });\r\n\r\n        //原生JS写法addEventListener，也可以用onPlay监听音乐播放事件\r\n        //为什么用原生API？因为this.audio不是jQuery对象\r\n        this.audio.addEventListener('play', function () {\r\n            //清除定时器\r\n            //有时候没有点击暂停，而是点击下一曲有开始播放，又被监听了，又生成了一个定时器\r\n            //那么就需要首先清除定时器，然后再生成新的定时器\r\n            clearInterval(this.statusClock);\r\n            //设置定时器，每隔1s就调用updateStatus方法更新进度栏的进度\r\n            _this.statusClock = setInterval(function () {\r\n                _this.updateStatus();\r\n            }, 1000);\r\n            console.log('音乐正在播放')\r\n        });\r\n\r\n        this.audio.addEventListener('pause', function () {\r\n            clearInterval(_this.statusClock);\r\n            console.log('音乐已经暂停');\r\n        });\r\n\r\n    },\r\n\r\n    loadMusic(callback) {\r\n        var _this = this;\r\n        console.log('loadMusic...');\r\n        //获取数据，jQuery的API，也可以用.ajaxAPI\r\n        // 使用一个HTTP GET请求从服务器加载JSON编码的数据。\r\n        $.getJSON('//jirenguapi.applinzi.com/fm/getSong.php', {channel: this.channelId}).done(function (ret) {\r\n            console.log(ret)\r\n            //ret是从服务器获取的数据，是一个对象，对象有一个song属性\r\n            //song属性值是一个数组，形如：{song: []}\r\n            _this.song = ret['song'][0];\r\n            _this.setMusic();\r\n            _this.loadLyric();\r\n        });\r\n    },\r\n\r\n    loadLyric() {\r\n        var _this = this;\r\n\r\n        //通过sid发送查询歌词请求\r\n        $.getJSON('//jirenguapi.applinzi.com/fm/getLyric.php', {sid: this.song.sid}).done(function (ret) {\r\n            console.log('下面是获取到的歌词对象')\r\n            console.log(ret)\r\n            var lyric = ret.lyric;\r\n            //下面是获取到的歌词\r\n            console.log(lyric)\r\n            var lyricObj = {};\r\n            lyric.split('\\n').forEach(function (line) {\r\n                //[01:10.25][01:20.25]It a new day\r\n                var times = line.match(/\\d{2}:\\d{2}/g);\r\n                //times == ['01:10.25', '01:20.25']\r\n                var str = line.replace(/\\[.+?\\]/g, '');\r\n                if (Array.isArray(times)) {\r\n                    times.forEach(function (time) {\r\n                        lyricObj[time] = str;\r\n                    });\r\n                }\r\n            });\r\n            _this.lyricObj = lyricObj;\r\n        });\r\n    },\r\n\r\n    setMusic() {\r\n        console.log('set music...');\r\n        console.log(this.song);\r\n        this.audio.src = this.song.url;\r\n        $('.bg').css('background-image', 'url(' + this.song.picture + ')');\r\n        this.$container.find('.aside figure').css('background-image', 'url(' + this.song.picture + ')');\r\n        this.$container.find('.detail h1').text(this.song.title);\r\n        this.$container.find('.detail .author').text(this.song.artist);\r\n        this.$container.find('.tag').text(this.channelName);\r\n        this.$container.find('.btn-play').removeClass('icon-play').addClass('icon-pause');\r\n    },\r\n\r\n    updateStatus() {\r\n        //min表示分钟数\r\n        var min = Math.floor(this.audio.currentTime / 60);\r\n        //second表示秒\r\n        var second = Math.floor(Fm.audio.currentTime % 60) + '';\r\n        //判断秒的个数，如果是一位，就在前边加个0\r\n        //最后边加空格表示把数字转变为字符串\r\n        second = second.length === 2 ? second : '0' + second;\r\n        //更新当前播放时间\r\n        this.$container.find('.current-time').text(min + ':' + second);\r\n        //更新进度条，通过css来设置\r\n        this.$container.find('.bar-progress').css('width', this.audio.currentTime / this.audio.duration * 100 + '%');\r\n\r\n        var line = this.lyricObj['0' + min + ':' + second];\r\n        if (line) {\r\n            this.$container.find('.lyric p').text(line)\r\n                .boomText();\r\n        }\r\n    }\r\n};\r\n\r\n\r\n$.fn.boomText = function (type) {\r\n    type = type || 'rollIn';\r\n    console.log(type);\r\n    this.html(function () {\r\n        var arr = $(this).text()\r\n            .split('').map(function (word) {\r\n                return '<span class=\"boomText\">' + word + '</span>';\r\n            });\r\n        return arr.join('');\r\n    });\r\n\r\n    var index = 0;\r\n    var $boomTexts = $(this).find('span');\r\n    var clock = setInterval(function () {\r\n        $boomTexts.eq(index).addClass('animated ' + type);\r\n        index++;\r\n        if (index >= $boomTexts.length) {\r\n            clearInterval(clock);\r\n        }\r\n    }, 300);\r\n};\r\n\r\nFooter.init();\r\nFm.init();\r\n\r\n"]}